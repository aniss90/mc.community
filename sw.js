
// ØºÙŠØ± Ø±Ù‚Ù… Ø§Ù„Ø¥ØµØ¯Ø§Ø± ÙÙŠ ÙƒÙ„ ØªØ­Ø¯ÙŠØ« Ù„Ù…ÙˆÙ‚Ø¹Ùƒ ğŸ‘‡
const CACHE_NAME = "my-cache-v1";

self.addEventListener('install', event => {
            console.log("ğŸ”„ Service Worker: Installing...");
            event.waitUntil(
                    caches.open(CACHE_NAME).then(cache => {
          return cache.addAll([
    '/',
    '/index.html',
    '/privacy-policy.html',
    '/Developers.html',
    '/style/main.css',
    '/style/tags.css',
    '/pages/Homepage.html',
    '/pages/marketplace.html',
    '/pages/login-page.html',
    '/pages/sign-up.html',
    '/pages/Sittings.html',
    '/pages/uFriends-management.html',
    '/pages/chat-page.html',
    '/pages/forget-password.html',
    '/pages/forget-username.html',
    '/pages/selected-user-profile.html',
    '/scripts/icons-list.js',
    '/scripts/items.js',
    '/scripts/tags.js',
      '/icons/-crystal.gif',
  '/icons/-gif.gif',
  '/icons/-goon.gif',
  '/icons/200.gif',
  '/icons/250HostileMobs-141ad.png',
  '/icons/8ball.png',
  '/icons/AccessDenied-4ffcb.png',
  '/icons/Achievement_lock.png',
  '/icons/Achievements_book.png',
  '/icons/Allay_Dancing.gif',
  '/icons/Alot_of_coins.gif',
  '/icons/Background.png',
  '/icons/Bedrock.png',
  '/icons/Bg.png',
  '/icons/CookEverything-fc277.png',
  '/icons/Copy-9b6af.png',
  '/icons/Crafting.png',
  '/icons/Crown.png',
  '/icons/Desert_boss.gif',
  '/icons/Document-f88ca.png',
  '/icons/Dragons_boss.gif',
  '/icons/EasyAndSafe-18a17.png',
  '/icons/Edit-88759.png',
  '/icons/Envelope-89e11.png',
  '/icons/Exit-dd8fc.png',
  '/icons/Eye-be41d.png',
  '/icons/F_121.gif',
  '/icons/Feedback-ecfce.png',
  '/icons/Feedback-f0949.png',
  '/icons/FirstAbandonedMineshaftFound-f9296.png',
  '/icons/FirstAncientCityFound-8d6da.png',
  '/icons/FirstBadlandsFound-0495e.png',
  '/icons/FirstConduit-4ce50.png',
  '/icons/FirstCraftedNetherite-26887.png',
  '/icons/FirstDiamondFound-86296.png',
  '/icons/FirstEnchantment-6f488.png',
  '/icons/FirstEndPortal-720f3.png',
  '/icons/FirstFullyExploredMap-2e992.png',
  '/icons/FirstMushroomFieldFound-c9d4e.png',
  '/icons/FirstNetherFortressFound-5990a.png',
  '/icons/FirstNetherPortalLit-9b93d.png',
  '/icons/FirstPeakMountainFound-77bba.png',
  '/icons/FirstPillagerOutpostFound-87eef.png',
  '/icons/FirstPoweredBeacon-886be.png',
  '/icons/FirstWoodlandMansionFound-a6812.png',
  '/icons/Folder-Open-d1660.png',
  '/icons/Gallery_icon.svg',
  '/icons/Gallery_logo.png',
  '/icons/Invites-6a622.png',
  '/icons/Itchigo_holo.gif',
  '/icons/Lama_icon.png',
  '/icons/Login.png',
  '/icons/Marketplace-Error-8376f.png',
  '/icons/MarketplacePass-8eb08.png',
  '/icons/Marketplace_new_logo.png',
  '/icons/Menu-8af40.png',
  '/icons/Message%20%281%29.png',
  '/icons/Moneys.gif',
  '/icons/NewMember-6422c.png',
  '/icons/News.png',
  '/icons/NoNews-191af.png',
  '/icons/NoRealmsInvites-3af80.png',
  '/icons/NoRealmsNews-ed604.png',
  '/icons/No_items.png',
  '/icons/Not-Logged-In-02f5b.png',
  '/icons/Options-Horizontal-426f7.png',
  '/icons/Paste-46874.png',
  '/icons/PersistentMultiplayerWorlds-880a4.png',
  '/icons/Realms-c7419.png',
  '/icons/RealmsMissing-e89cb.png',
  '/icons/Redo.png',
  '/icons/Reload-5717b.png',
  '/icons/Reload.png',
  '/icons/Samurai_head.gif',
  '/icons/Save-72f24.png',
  '/icons/Search-c8b13.png',
  '/icons/Setting_icon.png',
  '/icons/Share_logo.png',
  '/icons/Sign-in_Cape-35b02.png',
  '/icons/Sign-in_Cape_Animated-0041a.gif',
  '/icons/Sign-in_Prompts_Achievements%20Animated-06cb0.gif',
  '/icons/Sign-in_Prompts_Achievements-8e8d2.png',
  '/icons/Sign-in_Prompts_Friends%20Animated-0c355.gif',
  '/icons/Sign-in_Prompts_Friends-01fb9.png',
  '/icons/Sign-in_Prompts_Launch%20Animated-d5ba8.gif',
  '/icons/Sign-in_Prompts_Launch%20Animated-fdbda.gif',
  '/icons/Sign-in_Prompts_Launch-7712e.png',
  '/icons/Sign-in_Prompts_Launch-eadae.png',
  '/icons/Sign-in_Prompts_Save_Purchases%20Animated-cfb0b.gif',
  '/icons/Sign-in_Prompts_Save_Purchases-f506d.png',
  '/icons/Sign-in_Prompts_Servers%20Animated-ab246.gif',
  '/icons/Sign-in_Prompts_Servers-cc10e.png',
  '/icons/Smok_box.gif',
  '/icons/SpinningSkull.gif',
  '/icons/The_stare.gif',
  '/icons/Top1.gif',
  '/icons/VIP.gif',
  '/icons/Warning-b499a.png',
  '/icons/WarningGlyph.png',
  '/icons/Win_Computer.gif',
  '/icons/Woods.jpg',
  '/icons/achievements-17c5b.png',
  '/icons/achievements_logo.png',
  '/icons/add-player%400.5x.icon-2f437.png',
  '/icons/all_achievements_unlocked-145c0.png',
  '/icons/anelli.gif',
  '/icons/arrowBack-b77b1.png',
  '/icons/arrow_down.png',
  '/icons/arrow_left.png',
  '/icons/arrow_right.png',
  '/icons/arrow_up.png',
  '/icons/article_gif.gif',
  '/icons/away-badge-9843a.png',
  '/icons/axe_gif.gif',
  '/icons/bang.png',
  '/icons/bao_act_special.gif',
  '/icons/bao_icon_python.png',
  '/icons/bao_icon_scripting.png',
  '/icons/bao_icon_servers.png',
  '/icons/bao_icon_typescript.png',
  '/icons/berryspin.gif',
  '/icons/betahat.gif',
  '/icons/blank.png',
  '/icons/blank_gif.gif',
  '/icons/blocked-adding-friends-image-f34cf.png',
  '/icons/boomer.png',
  '/icons/bow_arrows_gif.gif',
  '/icons/brawl.png',
  '/icons/bread.png',
  '/icons/breeze--breeze.gif',
  '/icons/bubblegum_gif.gif',
  '/icons/bunny_gif.gif',
  '/icons/burger.png',
  '/icons/burger_gif.gif',
  '/icons/burning_skeleton.gif',
  '/icons/butterfly_gif.gif',
  '/icons/cake.png',
  '/icons/camera_gif.gif',
  '/icons/cap.png',
  '/icons/car_gif.gif',
  '/icons/cat_gif.gif',
  '/icons/cd_gif.gif',
  '/icons/chart_down.png',
  '/icons/chart_up.png',
  '/icons/cheats-icon-33f13.png',
  '/icons/check.png',
  '/icons/cheese.png',
  '/icons/cherry_blossom.png',
  '/icons/chest.gif',
  '/icons/chicken.png',
  '/icons/chili.png',
  '/icons/chocolate.png',
  '/icons/clap.png',
  '/icons/clock_gif.gif',
  '/icons/clown.png',
  '/icons/coinss_gif.gif',
  '/icons/cold.png',
  '/icons/comment%400.5x.icon-2df01.png',
  '/icons/comments_light-88de7.png',
  '/icons/concerned.png',
  '/icons/confounded_gif.gif',
  '/icons/confused.png',
  '/icons/content_gif.gif',
  '/icons/contest.png',
  '/icons/controller.png',
  '/icons/cookie.png',
  '/icons/cool_gif.gif',
  '/icons/cow.png',
  '/icons/cowboy_gif.gif',
  '/icons/crafting.gif',
  '/icons/crate_epic.png',
  '/icons/crate_mythical.png',
  '/icons/crate_rare.png',
  '/icons/creeper-cropped-9e281.png',
  '/icons/creeper-head-128-673e9.png',
  '/icons/creeper.png',
  '/icons/cringe.png',
  '/icons/cross-c49fd.png',
  '/icons/crossWhite-0f6ce.png',
  '/icons/cry_gif.gif',
  '/icons/crystalball_gif.gif',
  '/icons/cute.png',
  '/icons/cute_gif.gif',
  '/icons/decorated-pot-128-950b5.png',
  '/icons/detective.png',
  '/icons/devil.png',
  '/icons/diamond_gif.gif',
  '/icons/dinosaur.png',
  '/icons/disappointed_gif.gif',
  '/icons/discord.png',
  '/icons/disguise.png',
  '/icons/docs-page%400.5x.icon-10dc2.png',
  '/icons/dog.png',
  '/icons/dollar.png',
  '/icons/donut.png',
  '/icons/download-062b3.png',
  '/icons/dragon_gif.gif',
  '/icons/edit%400.5x.icon-cc7f2.png',
  '/icons/edit-image%400.5x.icon-d65de.png',
  '/icons/empty-592da.png',
  '/icons/empty-state-art-cd6d3.png',
  '/icons/enable_editor.png',
  '/icons/enchantedtable.gif',
  '/icons/enchatment_book_gif.gif',
  '/icons/enraged.png',
  '/icons/enter%400.5x.icon-c0739.png',
  '/icons/enter-icon-31b5a.png',
  '/icons/envelopeclosed.png',
  '/icons/envelopee.png',
  '/icons/envy_gif.gif',
  '/icons/exclamation.png',
  '/icons/exit%400.5x.icon-2af38.png',
  '/icons/experimental-features-icon-dca93.png',
  '/icons/eye_gif.gif',
  '/icons/eye_roll.png',
  '/icons/eyes.png',
  '/icons/ez_gif.gif',
  '/icons/facemask_gif.gif',
  '/icons/facepalm_gif.gif',
  '/icons/fall_icon.png',
  '/icons/fall_token.png',
  '/icons/filter.png',
  '/icons/fingers_crossed_gif.gif',
  '/icons/fire_gif.gif',
  '/icons/fist_gif.gif',
  '/icons/flex_gif.gif',
  '/icons/flowers.png',
  '/icons/flushed.png',
  '/icons/followers%400.5x.icon-4da56.png',
  '/icons/followers-bec3d.png',
  '/icons/french_fries.png',
  '/icons/friends%400.5x.icon-23e24.png',
  '/icons/friends-47df6.png',
  '/icons/friends-6037f.png',
  '/icons/friends-9e435.png',
  '/icons/frog.png',
  '/icons/frog_gif.gif',
  '/icons/fuming_gif.gif',
  '/icons/galaxy_gif.gif',
  '/icons/gavel_gif.gif',
  '/icons/ghastling-ghast.gif',
  '/icons/ghost_gif.gif',
  '/icons/gif_test-83efe.gif',
  '/icons/gift.png',
  '/icons/gift_1.png',
  '/icons/gift_gif.gif',
  '/icons/goat.png',
  '/icons/gobelnis.gif',
  '/icons/gold_medal_gif.gif',
  '/icons/gold_verified.gif',
  '/icons/green_heart.png',
  '/icons/grimacing.png',
  '/icons/grin.png',
  '/icons/groovy.png',
  '/icons/halo.png',
  '/icons/handshake_gif.gif',
  '/icons/happy.png',
  '/icons/happy_gif.gif',
  '/icons/heart_gif.gif',
  '/icons/horse.png',
  '/icons/hotdog.png',
  '/icons/ice_cream.png',
  '/icons/icon-edit-56235.png',
  '/icons/iconstarGolden-e2d94.png',
  '/icons/icon_fall.png',
  '/icons/icon_new_item.png',
  '/icons/icon_none.png',
  '/icons/icon_panda.png',
  '/icons/icon_setting.png',
  '/icons/infected.png',
  '/icons/injured_gif.gif',
  '/icons/inquisitive.png',
  '/icons/ironpick.png',
  '/icons/kiss_gif.gif',
  '/icons/lmao.png',
  '/icons/loading_spinner.gif',
  '/icons/lol.png',
  '/icons/love_bear.png',
  '/icons/lucky_block.png',
  '/icons/mad.png',
  '/icons/magic_book.gif',
  '/icons/magnifyingGlass-52f96.png',
  '/icons/manage-icon-4558c.png',
  '/icons/marketplace-icon-7f96f.png',
  '/icons/married.png',
  '/icons/masquerade.png',
  '/icons/medal_bronze_gif.gif',
  '/icons/medal_silver_gif.gif',
  '/icons/megamind.png',
  '/icons/melted_happy.png',
  '/icons/menu%400.5x.icon-e2970.png',
  '/icons/minecraft-computer-login.5074e926.png',
  '/icons/minecraft_gif.gif',
  '/icons/mobile_phone.png',
  '/icons/mod_crown.png',
  '/icons/money_bag.png',
  '/icons/money_face_gif.gif',
  '/icons/money_flying.gif',
  '/icons/monkey.png',
  '/icons/monocle_gif.gif',
  '/icons/moon.png',
  '/icons/mouse.png',
  '/icons/moustache_gif.gif',
  '/icons/multiplayer-icon-d7d04.png',
  '/icons/navbar-friends-icon-1-47df6.png',
  '/icons/nerdy_gif.gif',
  '/icons/nervous.png',
  '/icons/neutral.png',
  '/icons/neutral_gif.gif',
  '/icons/new_offer_symbol.png',
  '/icons/news-feed%400.5x.icon-c8582.png',
  '/icons/nitherite_sword_gif.gif',
  '/icons/no-content-art-f5417.png',
  '/icons/no-filtered-templates-91571.png',
  '/icons/no-friends-empty-state-4846a.png',
  '/icons/no-internet-art-53f29.png',
  '/icons/no-player-profile-d13a7.png',
  '/icons/no-worlds-yet-art-446b1.png',
  '/icons/no_achievements_unlocked-343d7.png',
  '/icons/notepad_gif.gif',
  '/icons/nothing_to_see-1107f.png',
  '/icons/nuclear_gif.gif',
  '/icons/octopus.png',
  '/icons/ok.png',
  '/icons/online-safety-adult-dc71d.png',
  '/icons/online-safety-child-8fad2.png',
  '/icons/online-safety-dc71d.png',
  '/icons/oof.png',
  '/icons/options-9456a.png',
  '/icons/orange_heart.png',
  '/icons/owl.png',
  '/icons/p_download.png',
  '/icons/pacman_gif.gif',
  '/icons/paintbrush.png',
  '/icons/pancakes_gif.gif',
  '/icons/panda.png',
  '/icons/parental-control-block-image-c827b.png',
  '/icons/parental-online-safety-8fad2.png',
  '/icons/parrot_gif.gif',
  '/icons/particles-e399d.gif',
  '/icons/party.png',
  '/icons/peace.png',
  '/icons/peel.png',
  '/icons/pencil.png',
  '/icons/penguin_gif.gif',
  '/icons/permissions_adult_account-dc71d.png',
  '/icons/permissions_child_account-8fad2.png',
  '/icons/pig.png',
  '/icons/pizza.png',
  '/icons/player-head-128-052ba.png',
  '/icons/player-offline-icon-b63b8.png',
  '/icons/player-online-icon-b63b8.png',
  '/icons/pog.png',
  '/icons/pokeball_gif.gif',
  '/icons/poop.png',
  '/icons/popcorn.png',
  '/icons/portal_anim.gif',
  '/icons/preproduction-access-art-realms-7007a.png',
  '/icons/profile_Background.png',
  '/icons/promo_gift_big.png',
  '/icons/promo_gift_small_blue.png',
  '/icons/promo_gift_small_green.png',
  '/icons/promo_gift_small_pink.png',
  '/icons/promo_gift_small_yellow.png',
  '/icons/promo_holiday_gift_long.png',
  '/icons/promo_holiday_gift_small.png',
  '/icons/purple_heart.png',
  '/icons/qr-code%400.5x.icon-ff09e.png',
  '/icons/rainbow_potion.gif',
  '/icons/record-player-pixel-art.gif',
  '/icons/red_devil.png',
  '/icons/reset%400.5x.icon-5fa66.png',
  '/icons/resource-packs-icon-e08f7.png',
  '/icons/robot_gif.gif',
  '/icons/save%400.5x.icon-96183.png',
  '/icons/screenshots-cc55b.png',
  '/icons/search-error-image-32029.png',
  '/icons/search.png',
  '/icons/send_icon.svg',
  '/icons/share-android%400.5x.icon-33252.png',
  '/icons/share-generic%400.5x.icon-a522d.png',
  '/icons/share-ios%400.5x.icon-077f8.png',
  '/icons/sign-in-prompts-friends-01fb9.png',
  '/icons/sign-in-prompts-servers-animated-0c355.gif',
  '/icons/sign_in_prompts_my_content.png',
  '/icons/signed-out-art-e090c.png',
  '/icons/skulk-horde.gif',
  '/icons/skull.png',
  '/icons/sleepy.png',
  '/icons/slice_of_cake.png',
  '/icons/smile_gif.gif',
  '/icons/smol.png',
  '/icons/sniff-sniffing.gif',
  '/icons/spaghetti_gif.gif',
  '/icons/sparkles_gif.gif',
  '/icons/spinning_nether_star.gif',
  '/icons/spleef.png',
  '/icons/spooky_gif.gif',
  '/icons/star.gif',
  '/icons/star.png',
  '/icons/star_eyes.png',
  '/icons/steve-island-d0eb3.png',
  '/icons/sticker_icon.svg',
  '/icons/stop_sign_gif.gif',
  '/icons/summer_token.png',
  '/icons/support.png',
  '/icons/sushi.png',
  '/icons/suspicious.png',
  '/icons/switch_accounts.png',
  '/icons/sword_game.png',
  '/icons/swords.png',
  '/icons/tap_gif.gif',
  '/icons/target_gif.gif',
  '/icons/tear.png',
  '/icons/tearful.png',
  '/icons/teddy_bear.png',
  '/icons/think.png',
  '/icons/thumbs-down%400.5x.icon-961ba.png',
  '/icons/thumbs-up%400.5x.icon-a6921.png',
  '/icons/thumbs_down.png',
  '/icons/thumbs_up.png',
  '/icons/tnt_run.png',
  '/icons/tomato.png',
  '/icons/tongue_out.png',
  '/icons/trash-4fd68.png',
  '/icons/trash.png',
  '/icons/trial-mode-art-40744.png',
  '/icons/trial-mode-modal-art-3fb6d.png',
  '/icons/troll.png',
  '/icons/trophy_gif.gif',
  '/icons/tutorial_end-fbdd6.png',
  '/icons/unamused.png',
  '/icons/under-construction-art-realms-cropped-ab8a9.png',
  '/icons/uno_reverse.png',
  '/icons/update.png',
  '/icons/upside_down.png',
  '/icons/upside_down_gif.gif',
  '/icons/volume_gif.gif',
  '/icons/warning%400.5x.icon-78dc7.png',
  '/icons/warning.png',
  '/icons/water_source.gif',
  '/icons/wave.png',
  '/icons/yellow_heart.png',
  '/icons/zipped_gif.gif'
]);
        })
    );
});

// ØªÙØ¹ÙŠÙ„ (activate) ÙˆØªÙ†Ø¸ÙŠÙ Ø§Ù„ÙƒØ§Ø´ Ø§Ù„Ù‚Ø¯ÙŠÙ…
self.addEventListener('activate', event => {
    console.log("âœ… Service Worker: Activated, cleaning old caches...");
    event.waitUntil(
        caches.keys().then(keys => {
            return Promise.all(
                keys.filter(k => k !== CACHE_NAME) // Ø­Ø§ÙØ¸ ÙÙ‚Ø· Ø¹Ù„Ù‰ Ø§Ù„ÙƒØ§Ø´ Ø§Ù„Ø­Ø§Ù„ÙŠ
                .map(k => {
                    console.log("ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„ÙƒØ§Ø´ Ø§Ù„Ù‚Ø¯ÙŠÙ…:", k);
                    return caches.delete(k);
                })
            );
        })
    );
});
// Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù„ÙØ§Øª (fetch)
self.addEventListener('fetch', event => {
    event.respondWith(
        caches.match(event.request).then(res => {
            // Ø¥Ø°Ø§ Ø§Ù„Ù…Ù„Ù Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„ÙƒØ§Ø´ â†’ Ø±Ø¬Ø¹Ù‡
            if (res) return res;
            
            // Ø¥Ø°Ø§ Ù…Ø´ Ù…ÙˆØ¬ÙˆØ¯ â†’ Ù†Ø²Ù„Ù‡ ÙˆØ®Ø²Ù†Ù‡ ÙÙŠ Ø§Ù„ÙƒØ§Ø´
            return fetch(event.request).then(response => {
                return caches.open(CACHE_NAME).then(cache => {
                    cache.put(event.request, response.clone());
                    return response;
                });
            });
        })
    );
});

