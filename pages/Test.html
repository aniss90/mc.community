<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Push Notification</title>
</head>
<body>
  <button onclick="sendNotification()">ورر ارسال</button>
 <script>
   self.addEventListener('notificationclick', function(event) {
  event.notification.close();
  // ممكن تضيف هنا أي إجراء عند النقر على الإشعار
});
 </script>
  <script>
    // تسجيل Service Worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js').then(function(reg) {
        console.log("تم تسجيل Service Worker");
      }).catch(function(error) {
        console.error("فشل تسجيل Service Worker", error);
      });
    }

    // دالة إرسال الإشعار
    function sendNotification() {
      if (Notification.permission === "granted") {
        navigator.serviceWorker.getRegistration().then(function(reg) {
          if (reg) {
            reg.showNotification("هلاا بيكم");
          }
        });
      } else if (Notification.permission !== "denied") {
        Notification.requestPermission().then(function (permission) {
          if (permission === "granted") {
            navigator.serviceWorker.getRegistration().then(function(reg) {
              if (reg) {
                reg.showNotification("هلاا بيكم");
              }
            });
          }
        });
      }
    }
  </script>
  
</body>
</html>